# üåê Internationalization (i18n) Documentation Hub

Willkommen im **i18n Hub** f√ºr `NIS2 AI Guard`.  
Hier findest du alles f√ºr **Entwicklung, Betrieb und Monitoring** unseres Mehrsprachen-Systems.

---

## üß≠ Document Roadmap

| Document | Description | Audience |
|-----------|--------------|-----------|
| [`i18n-guide.md`](./i18n-guide.md) | Setup, Commands, typische Workflows | Developers |
| [`i18n-architecture.md`](./i18n-architecture.md) | Technische Architektur & CI-Flows | Tech Leads / CI |
| [`i18n-maintenance.md`](./i18n-maintenance.md) | Ops-Playbook (Kurz-Checklisten) | Maintainers / Ops |
| [`../README.md`](../README.md#-internationalization-i18n) | Public Summary & CI Badge | Contributors |

---

## üîó Core Principles

- **EN als Referenz-Quelle** (Single Source of Truth)  
- **CI-Validierung bei jedem PR** (Struktur, Platzhalter, DPIA-Keys)  
- **Snapshot Guard** gegen unbemerkte EN-Schema-Drifts  
- **Priority-2 Locales**: engmaschige Validierung  
- **Transparenz** via GitHub Actions Annotations

---

## üìà Flow: EN ‚Üí Locales ‚Üí CI ‚Üí Snapshot

<lov-mermaid>
flowchart LR
  A[EN Reference<br/>public/locales/en/*.json] --> B[Locales<br/>public/locales/{lang}/*.json]
  B --> C[CI Validation<br/>i18n-check.yml]
  C -->|OK| D[Pass]
  C -->|Errors/Warnings| E[Annotations<br/>GitHub Actions]
  A --> F[Snapshot Compare<br/>scripts/snapshot-dpia-keys.js]
  F -->|Drift| G[Update Snapshot?<br/>--update]
  G --> H[Commit snapshot<br/>scripts/dpia-keys.snapshot.json]
</lov-mermaid>

---

## ‚öôÔ∏è Core Scripts (Quick Reference)

```bash
# Validate all locales
node scripts/check-locales.js --ref en

# DPIA structure (Priority-2)
node scripts/check-dpia-keys.js

# Auto-fix missing keys
node scripts/check-locales.js --ref en --fix

# Snapshot verify / update
node scripts/snapshot-dpia-keys.js
node scripts/snapshot-dpia-keys.js --update
```

---

## üöë Quick Troubleshooting

| Issue                 | Quick Fix                                                              |
| --------------------- | ---------------------------------------------------------------------- |
| Missing keys          | `node scripts/check-locales.js --ref en --fix`                         |
| Placeholder mismatch  | Werte mit EN abgleichen, `{placeholders}` exakt √ºbernehmen             |
| EN drift detected     | Intentional ‚Üí `--update` + commit; sonst EN revertieren                |
| Flattened `dpia` keys | Struktur verschachteln (nicht `dpia.title`, sondern `dpia: { title }`) |

---

## üë• Rollen

| Role        | Responsibilities                                          |
| ----------- | --------------------------------------------------------- |
| Devs        | Keys implementieren, lokal validieren, CI-Fehler fixen    |
| Translators | Werte √ºbersetzen, Platzhalter/Tags bewahren               |
| Maintainers | Snapshot pflegen, Schema steuern, neue Sprachen onboarden |
| CI Admins   | Workflows √ºberwachen, Fehlkonfigurationen beheben         |

---

## üìÖ Frequenzen

| Task               | Frequency  |
| ------------------ | ---------- |
| CI-Validation      | Jeder PR   |
| Snapshot-Check     | Jeder PR   |
| Locale-Onboarding  | Bei Bedarf |
| Maintenance Review | Monatlich  |

---

**Last updated:** 2025-10-25  
**Maintainer:** i18n Team (`Linny85/nis2-ai-guard`)
